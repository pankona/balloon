<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="176px" preserveAspectRatio="none" style="width:455px;height:176px;" version="1.1" viewBox="0 0 455 176" width="455px" zoomAndPan="magnify"><defs><filter height="300%" id="f7qhf1zlu2iqt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="50" y2="164"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="125" x2="125" y1="50" y2="164"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="226" x2="226" y1="50" y2="164"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="303" x2="303" y1="50" y2="164"/><rect fill="#FEFECE" filter="url(#f7qhf1zlu2iqt)" height="42" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="15" y="22.3184">Main loop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="22" y="36.3184">(Drive)</text><rect fill="#FEFECE" filter="url(#f7qhf1zlu2iqt)" height="42" style="stroke: #A80036; stroke-width: 1.5;" width="49" x="99" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="106" y="22.3184">Event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="106" y="36.3184">Queue</text><rect fill="#FEFECE" filter="url(#f7qhf1zlu2iqt)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="193" y="17"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="200" y="36.3184">Spawner</text><rect fill="#FEFECE" filter="url(#f7qhf1zlu2iqt)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="270" y="17"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="277" y="36.3184">Factory</text><polygon fill="#A80036" points="136.5,75,126.5,79,136.5,83,132.5,79" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130.5" x2="225.5" y1="79" y2="79"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="142.5" y="75.4385">push(SPAWN)</text><polygon fill="#A80036" points="291.5,102,301.5,106,291.5,110,295.5,106" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48.5" x2="297.5" y1="106" y2="106"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="55.5" y="102.4385">spawn()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="303.5" x2="345.5" y1="133" y2="133"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="345.5" x2="345.5" y1="133" y2="146"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304.5" x2="345.5" y1="146" y2="146"/><polygon fill="#A80036" points="314.5,142,304.5,146,314.5,150,310.5,146" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="310.5" y="129.4385">spawn a new balloon</text><!--
@startuml

hide footbox

participant "Main loop\n(Drive)" as m
participant "Event\nQueue"       as eq
participant Spawner              as s
participant Factory              as f

s -> eq : push(SPAWN)
m -> f : spawn()
f -> f : spawn a new balloon




@enduml

PlantUML version 1.2018.02(Sat Mar 10 02:20:44 JST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_162-b12
Operating System: Linux
OS Version: 4.12.14-1-MANJARO
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>